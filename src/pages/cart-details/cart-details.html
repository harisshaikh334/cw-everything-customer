<!--
  Generated template for the CartDetailsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="bg-img">

  <ion-navbar>
    <ion-title>Cart Details</ion-title>
  </ion-navbar>

</ion-header>


<ion-content class="bg-img">
  <div *ngIf="showLoader" class="loader-bg">
    <ion-spinner class="spinner" color="light"></ion-spinner>
  </div>
  <div class="total-price">
    <h1>Total Price: &#8377; {{total_price}} </h1>
  </div>
  <ion-list no-lines>
    <ion-item *ngFor="let data of cart_list; let i = index" (click)="selectAddress(data)">
        <div class="img_box center_img" item-start>
            <img src="{{data.image ? image_prefix+ data.image : 'assets/imgs/avatar.png'}}" width="100px" height="100px">
        </div>
        <h2 class="d-flex"><span>{{data.product_name }}</span>
        </h2>
        <!-- <h3>Plumber</h3> -->
        <h3 class="d-flex">Sale Price : {{data.sale_price}} <s style='color:red;margin-left: 5px;' *ngIf="(data.mrp > data.sale_price)"> {{data.mrp}}</s></h3>
        <!-- <h3 *ngIf="(data.mrp > data.sale_price)" class="d-flex">MRP Price : <s>{{data.mrp}}</s></h3> -->
        <!-- <h3 *ngIf="!(data.mrp > data.sale_price)" class="d-flex">MRP Price : {{data.mrp}}</h3> -->
        <h3 *ngIf="data?.cart_details?.qty" class="d-flex">Quantity {{data?.cart_details?.qty}}</h3>
        <h3 class="d-flex">Qty {{data.qty}}</h3>
        <!-- <button ion-button (click)="openDesc(data)" class="d-flex">Description</button> -->
        <div class="cart-qty">
          <button (click)="removeFromCart(data)" class="cart-btn" ion-button><ion-icon class="material-icons" item-end>remove_shopping_cart</ion-icon>Remove</button>
       </div>
    
      </ion-item>

    <div *ngIf="cart_list.length == 0 && !showLoader" class="emptydata" align="center">
        <img src="assets/imgs/sad_smiley.png" style="max-height: 150px" />
        <h4>Currently there are no products.</h4>
    </div>
</ion-list>
</ion-content>
<ion-footer *ngIf="cart_list.length > 0">
  <button ion-button full class="btn" (click)="proceedToAddress()">Proceed to order</button>
</ion-footer>
<div *ngIf="showDesc" class="modal-pop">
  <div class="modal-inner">
      <div class="modal-header">
          <!-- <h2>{{popHeading}}</h2> -->
          <button class="close-btn" (click)="closeDesc()"> &#10006;</button>
      </div>
      <div class="modal-body">
          <p [innerHTML]="productDesc">
          </p>
          <!-- <img [src]="popup_image" [title]="popHeading" [alt]="popHeading" /> -->
      </div>
  </div>
</div>
