<ion-header>
    <ion-toolbar>
	    <ion-title>
	      {{title}}
	    </ion-title>
	    <ion-buttons start>
	      <button ion-button (click)="dismiss()">
	        <span ion-text color="primary" showWhen="ios">Cancel</span>
	        <ion-icon style="zoom:1.5; margin-top: -5px" color="light" name="md-close-circle" showWhen="android, windows"></ion-icon>
	      </button>
	    </ion-buttons>
	</ion-toolbar>
</ion-header>
<ion-content padding class="bg-color">
    <div *ngIf="showLoader" class="loader-bg">
        <ion-spinner class="spinner" color="light"></ion-spinner>
    </div>
    <div class="form">
        <ion-list>
            <ion-item>
                <ion-label floating>Address Type</ion-label>
                <ion-input type="text" class="floating-with-placeholder" placeholder="Home, Office, etc." [(ngModel)]="address_type"></ion-input>
            </ion-item> 
            <p class='error' *ngIf="(!address_type.trim() || address_type.length < 4) && submitAttempt">Please enter valid address type. Minimum 4 characters required.</p>

            <ion-item>
                <ion-label floating>Address</ion-label>
                <ion-textarea rows="5" [(ngModel)]="address"></ion-textarea>
            </ion-item>
            <p class='error' *ngIf="(!address.trim() || address.length < 8) && submitAttempt">Please enter valid address. Minimum 8 characters required.</p>

            <ion-item>
                <ion-label>Pincode</ion-label>
                <select-searchable
                    item-content
                    [(ngModel)]="pincode"
                    [items]="pincodes"
                    itemValueField="id"
                    itemTextField="name"
                    [canSearch]="true"
                    (onChange)="pincodeChange($event)">
                </select-searchable>
            </ion-item>
            <p class='error' *ngIf="(!pincode) && submitAttempt">Please select pincode</p>

            <ion-grid *ngIf="canDelete">
  				<ion-row>
    				<ion-col col-6>
            			<button ion-button color="danger" (click)="remove()" outline>Remove Address</button>    
            		</ion-col>
            		<ion-col col-6>	
            			<button block ion-button (click)="save()">SAVE</button>    
            		</ion-col>
            	</ion-row>
            </ion-grid>

            <button *ngIf="!canDelete" large block ion-button (click)="save()">SAVE</button>    			
        </ion-list> 
    </div>
</ion-content>
